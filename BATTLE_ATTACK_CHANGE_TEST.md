# 战斗中切换攻击方式功能测试

## 修改内容

### 1. HTML修改 (战斗界面)
- 位置: lines 511-517
- 添加了攻击方式选择区域
- 显示当前攻击方式
- 添加"切换攻击方式 (M)"按钮

### 2. JavaScript事件监听器
- 位置: lines 1069-1075
- 添加了按钮点击事件
- 在战斗中调用changeAttackType()

### 3. setAttackType函数增强
- 位置: lines 1865-1876
- 添加战斗UI更新逻辑
- 检测战斗状态并更新界面

### 4. updateBattleUI函数增强
- 位置: lines 1568-1592
- 更新当前攻击方式显示
- 同步攻击按钮文本

## 功能说明

### 使用方法
1. 进入战斗状态
2. 点击"切换攻击方式 (M)"按钮，或按M键
3. 当前攻击方式会循环切换
4. 界面实时更新显示

### 支持的攻击方式
- 撕咬 (基础攻击)
- 撕扯 (高伤害)
- 撕裂 (暴击)
- 尾巴攻击 (范围伤害)

## 测试步骤

1. 启动游戏并选择恐龙
2. 触发战斗（靠近敌人或按空格键）
3. 在战斗界面中：
   - 查看当前攻击方式显示
   - 点击"切换攻击方式"按钮
   - 或按M键切换
4. 验证攻击方式是否正确切换
5. 验证攻击按钮文本是否更新
6. 执行攻击，验证伤害计算

## 预期结果

✅ 战斗界面显示当前攻击方式
✅ 点击按钮可以切换攻击方式
✅ M键可以切换攻击方式
✅ 攻击按钮文本同步更新
✅ 切换后攻击伤害正确计算
